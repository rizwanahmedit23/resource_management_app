{"ast":null,"code":"import { UserRole } from '../enums/user-role.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./level2-feedback.service\";\nimport * as i2 from \"../login/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction Level2FeedbackComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Level 2 Interview Feedback\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function Level2FeedbackComponent_div_0_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addLevel2Feedback());\n    });\n    i0.ɵɵelementStart(4, \"label\", 10);\n    i0.ɵɵtext(5, \"Project Experience:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function Level2FeedbackComponent_div_0_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.projectExperience = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 12);\n    i0.ɵɵtext(8, \"Advanced Technical Skills:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function Level2FeedbackComponent_div_0_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.advTechSkills = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"label\", 14);\n    i0.ɵɵtext(11, \"Recommendation:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function Level2FeedbackComponent_div_0_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.recommendation = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 16);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.projectExperience);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.advTechSkills);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.recommendation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedFeedbackIndex !== null ? \"Edit Feedback\" : \"Add Feedback\");\n  }\n}\nfunction Level2FeedbackComponent_tr_18_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"td\")(2, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function Level2FeedbackComponent_tr_18_div_7_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const i_r8 = i0.ɵɵnextContext().index;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.editLevel2Feedback(i_r8));\n    });\n    i0.ɵɵtext(3, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction Level2FeedbackComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, Level2FeedbackComponent_tr_18_div_7_Template, 4, 0, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const feedback_r7 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(feedback_r7.projectExperience);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(feedback_r7.advTechSkills);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(feedback_r7.recommendation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isHomePage());\n  }\n}\nexport class Level2FeedbackComponent {\n  constructor(level2FeedbackService, authService, router) {\n    this.level2FeedbackService = level2FeedbackService;\n    this.authService = authService;\n    this.router = router;\n    this.userRoles = UserRole;\n    this.feedback2id = null;\n    this.projectExperience = '';\n    this.advTechSkills = '';\n    this.recommendation = '';\n    this.level2Feedback = [];\n    this.selectedFeedbackIndex = null;\n  }\n  ngOnInit() {\n    this.loadLevel2Feedback();\n  }\n  loadLevel2Feedback() {\n    this.level2FeedbackService.getAllLevel2Feedback().subscribe({\n      next: data => {\n        this.level2Feedback = data;\n      },\n      error: error => {\n        console.error('Error loading Level 2 Feedback', error);\n      }\n    });\n  }\n  addLevel2Feedback() {\n    const feedback = {\n      feedback2id: this.feedback2id,\n      projectExperience: this.projectExperience,\n      advTechSkills: this.advTechSkills,\n      recommendation: this.recommendation\n      // Add other properties as needed\n    };\n\n    if (this.selectedFeedbackIndex !== null) {\n      const selectedFeedbackId = this.level2Feedback[this.selectedFeedbackIndex].feedback2id;\n      this.level2FeedbackService.editLevel2Feedback(selectedFeedbackId, feedback).subscribe({\n        next: () => {\n          this.selectedFeedbackIndex = null;\n          this.clearForm();\n          this.loadLevel2Feedback();\n        },\n        error: error => {\n          console.error('Error editing Level 2 Feedback', error);\n        }\n      });\n    } else {\n      this.level2FeedbackService.addLevel2Feedback(feedback).subscribe({\n        next: () => {\n          this.clearForm();\n          this.loadLevel2Feedback();\n        },\n        error: error => {\n          console.error('Error adding Level 2 Feedback', error);\n        }\n      });\n    }\n  }\n  editLevel2Feedback(index) {\n    this.selectedFeedbackIndex = index;\n    const selectedFeedback = this.level2Feedback[index];\n    this.feedback2id = selectedFeedback.feedback2id;\n    this.projectExperience = selectedFeedback.projectExperience;\n    this.advTechSkills = selectedFeedback.advTechSkills;\n    this.recommendation = selectedFeedback.recommendation;\n  }\n  deleteLevel2Feedback(index) {\n    const selectedFeedbackId = this.level2Feedback[index].feedback2id;\n    this.level2FeedbackService.deleteLevel2Feedback(selectedFeedbackId).subscribe({\n      next: () => {\n        this.loadLevel2Feedback();\n      },\n      error: error => {\n        console.error('Error deleting Level 2 Feedback', error);\n      }\n    });\n  }\n  clearForm() {\n    this.feedback2id = null;\n    this.projectExperience = '';\n    this.advTechSkills = '';\n    this.recommendation = '';\n  }\n  isHomePage() {\n    return this.router.url === '/home';\n  }\n  static #_ = this.ɵfac = function Level2FeedbackComponent_Factory(t) {\n    return new (t || Level2FeedbackComponent)(i0.ɵɵdirectiveInject(i1.Level2FeedbackService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Level2FeedbackComponent,\n    selectors: [[\"app-level2-feedback\"]],\n    decls: 19,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [1, \"container-fluid\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [1, \"table\", \"table-hover\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngSubmit\"], [\"for\", \"projectExperience\"], [\"type\", \"text\", \"id\", \"projectExperience\", \"name\", \"projectExperience\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"advTechSkills\"], [\"type\", \"text\", \"id\", \"advTechSkills\", \"name\", \"advTechSkills\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"recommendation\"], [\"type\", \"text\", \"id\", \"recommendation\", \"name\", \"recommendation\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"]],\n    template: function Level2FeedbackComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, Level2FeedbackComponent_div_0_Template, 15, 4, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"nav\", 2)(3, \"div\", 1)(4, \"a\", 3);\n        i0.ɵɵtext(5, \"Level 2 Feedback Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵelement(7, \"span\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"table\", 6)(9, \"thead\")(10, \"tr\")(11, \"th\", 7);\n        i0.ɵɵtext(12, \"Project Experience:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 7);\n        i0.ɵɵtext(14, \"Advanced Technical Skills:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\", 7);\n        i0.ɵɵtext(16, \"Recommendation:\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"tbody\");\n        i0.ɵɵtemplate(18, Level2FeedbackComponent_tr_18_Template, 8, 4, \"tr\", 8);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        i0.ɵɵproperty(\"ngIf\", !ctx.isHomePage() && ((tmp_0_0 = ctx.authService.getCurrentUser()) == null ? null : tmp_0_0.role) === ctx.userRoles.LEVEL2_PANEL);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.level2Feedback);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbGV2ZWwyLWZlZWRiYWNrL2xldmVsMi1mZWVkYmFjay5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTJERyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGRpdiB7XHJcbiAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgbWFyZ2luOiA1MHB4IGF1dG87XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDY1dmg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlO1xyXG4gIH1cclxuIFxyXG4gXHJcbmgye1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcclxuICAgfVxyXG4gXHJcbiBcclxuZm9ybSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XHJcbiAgIFxyXG4gIH1cclxuIFxyXG4gIGxhYmVsIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gIH1cclxuIFxyXG4gIGlucHV0IHtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBoZWlnaHQ6IDEwdmg7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIH1cclxuIFxyXG4gIGJ1dHRvbiB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDIxNWRlZywgIzU0NmU3YSwgIzM3NDc0Zik7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbiBcclxuIFxyXG4gIHVsIHtcclxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgfVxyXG4gXHJcbiAgbGkge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICB9XHJcbiBcclxuICBidXR0b24ge1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbiBcclxuICAqLyJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"AAIA,SAASA,QAAQ,QAAQ,yBAAyB;;;;;;;;;;ICHlDC,2BAA4F;IACpFA,0CAA0B;IAAAA,iBAAK;IAEnCA,+BAAuC;IAAjCA;MAAAA;MAAA;MAAA,OAAYA,yCAAmB;IAAA,EAAC;IACpCA,iCAA+B;IAAAA,mCAAmB;IAAAA,iBAAQ;IAC1DA,iCAA4G;IAAzCA;MAAAA;MAAA;MAAA;IAAA,EAA+B;IAAlGA,iBAA4G;IAE5GA,iCAA2B;IAAAA,0CAA0B;IAAAA,iBAAQ;IAC7DA,iCAAgG;IAArCA;MAAAA;MAAA;MAAA;IAAA,EAA2B;IAAtFA,iBAAgG;IAEhGA,kCAA4B;IAAAA,gCAAe;IAAAA,iBAAQ;IACnDA,kCAAmG;IAAtCA;MAAAA;MAAA;MAAA;IAAA,EAA4B;IAAzFA,iBAAmG;IAEnGA,mCAAuD;IAAAA,aAAuE;IAAAA,iBAAS;;;;IARpEA,eAA+B;IAA/BA,kDAA+B;IAGvCA,eAA2B;IAA3BA,8CAA2B;IAGzBA,eAA4B;IAA5BA,+CAA4B;IAElCA,eAAuE;IAAvEA,8FAAuE;;;;;;IA4C1HA,2BAA2B;IAE+BA;MAAAA;MAAA;MAAA;MAAA,OAASA,+CAAqB;IAAA,EAAC;IAACA,oBAAI;IAAAA,iBAAS;;;;;IANzGA,0BAA2D;IACrDA,YAA8B;IAAAA,iBAAK;IACvCA,0BAAI;IAAAA,YAA0B;IAAAA,iBAAK;IACnCA,0BAAI;IAAAA,YAA2B;IAAAA,iBAAK;IACpCA,8EAKM;IACRA,iBAAK;;;;;IATCA,eAA8B;IAA9BA,mDAA8B;IAC9BA,eAA0B;IAA1BA,+CAA0B;IAC1BA,eAA2B;IAA3BA,gDAA2B;IACzBA,eAAmB;IAAnBA,2CAAmB;;;AD9CnC,OAAM,MAAOC,uBAAuB;EAUlCC,YAAoBC,qBAA4C,EAASC,WAAwB,EAASC,MAAc;IAApG,0BAAqB,GAArBF,qBAAqB;IAAgC,gBAAW,GAAXC,WAAW;IAAsB,WAAM,GAANC,MAAM;IAThH,cAAS,GAAGN,QAAQ;IACpB,gBAAW,GAAkB,IAAI;IACjC,sBAAiB,GAAW,EAAE;IAC9B,kBAAa,GAAW,EAAE;IAC1B,mBAAc,GAAW,EAAE;IAE3B,mBAAc,GAAU,EAAE;IAC1B,0BAAqB,GAAkB,IAAI;EAEgF;EAE3HO,QAAQ;IACN,IAAI,CAACC,kBAAkB,EAAE;EAC3B;EAEAA,kBAAkB;IAChB,IAAI,CAACJ,qBAAqB,CAACK,oBAAoB,EAAE,CAACC,SAAS,CAAC;MAC1DC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,cAAc,GAAGD,IAAI;MAC5B,CAAC;MACDE,KAAK,EAAGA,KAAK,IAAI;QACfC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD;KACD,CAAC;EACJ;EAEAE,iBAAiB;IACf,MAAMC,QAAQ,GAAG;MACfC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,iBAAiB,EAAE,IAAI,CAACA,iBAAiB;MACzCC,aAAa,EAAE,IAAI,CAACA,aAAa;MACjCC,cAAc,EAAE,IAAI,CAACA;MACrB;KACD;;IAED,IAAI,IAAI,CAACC,qBAAqB,KAAK,IAAI,EAAE;MACvC,MAAMC,kBAAkB,GAAG,IAAI,CAACV,cAAc,CAAC,IAAI,CAACS,qBAAqB,CAAC,CAACJ,WAAW;MACtF,IAAI,CAACd,qBAAqB,CAACoB,kBAAkB,CAACD,kBAAkB,EAAEN,QAAQ,CAAC,CAACP,SAAS,CAAC;QACpFC,IAAI,EAAE,MAAK;UACT,IAAI,CAACW,qBAAqB,GAAG,IAAI;UACjC,IAAI,CAACG,SAAS,EAAE;UAChB,IAAI,CAACjB,kBAAkB,EAAE;QAC3B,CAAC;QACDM,KAAK,EAAGA,KAAK,IAAI;UACfC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;QACxD;OACD,CAAC;KACH,MAAM;MACL,IAAI,CAACV,qBAAqB,CAACY,iBAAiB,CAACC,QAAQ,CAAC,CAACP,SAAS,CAAC;QAC/DC,IAAI,EAAE,MAAK;UACT,IAAI,CAACc,SAAS,EAAE;UAChB,IAAI,CAACjB,kBAAkB,EAAE;QAC3B,CAAC;QACDM,KAAK,EAAGA,KAAK,IAAI;UACfC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACvD;OACD,CAAC;;EAIN;EAEAU,kBAAkB,CAACE,KAAa;IAC9B,IAAI,CAACJ,qBAAqB,GAAGI,KAAK;IAClC,MAAMC,gBAAgB,GAAG,IAAI,CAACd,cAAc,CAACa,KAAK,CAAC;IACnD,IAAI,CAACR,WAAW,GAAGS,gBAAgB,CAACT,WAAW;IAC/C,IAAI,CAACC,iBAAiB,GAAGQ,gBAAgB,CAACR,iBAAiB;IAC3D,IAAI,CAACC,aAAa,GAAGO,gBAAgB,CAACP,aAAa;IACnD,IAAI,CAACC,cAAc,GAAGM,gBAAgB,CAACN,cAAc;EACvD;EAEAO,oBAAoB,CAACF,KAAa;IAChC,MAAMH,kBAAkB,GAAG,IAAI,CAACV,cAAc,CAACa,KAAK,CAAC,CAACR,WAAW;IACjE,IAAI,CAACd,qBAAqB,CAACwB,oBAAoB,CAACL,kBAAkB,CAAC,CAACb,SAAS,CAAC;MAC5EC,IAAI,EAAE,MAAK;QACT,IAAI,CAACH,kBAAkB,EAAE;MAC3B,CAAC;MACDM,KAAK,EAAGA,KAAK,IAAI;QACfC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD;KACD,CAAC;EACJ;EAEAW,SAAS;IACP,IAAI,CAACP,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,iBAAiB,GAAG,EAAE;IAC3B,IAAI,CAACC,aAAa,GAAG,EAAE;IACvB,IAAI,CAACC,cAAc,GAAG,EAAE;EAC1B;EACAQ,UAAU;IACR,OAAO,IAAI,CAACvB,MAAM,CAACwB,GAAG,KAAK,OAAO;EACpC;EAAC;qBA5FU5B,uBAAuB;EAAA;EAAA;UAAvBA,uBAAuB;IAAA6B;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCXpClC,yEAgBU;QAcNA,8BAA6B;QAGYA,wCAAwB;QAAAA,iBAAI;QAC7DA,iCAA4M;QAC1MA,0BAAyC;QAC3CA,iBAAS;QAQjBA,gCAAiC;QAGXA,oCAAmB;QAAAA,iBAAK;QACxCA,8BAAgB;QAAAA,2CAA0B;QAAAA,iBAAK;QAC/CA,8BAAgB;QAAAA,gCAAe;QAAAA,iBAAK;QAGxCA,8BAAO;QACLA,wEAUK;QACPA,iBAAQ;;;;QAhERA,uJAAoF;QAqDzDA,gBAAmB;QAAnBA,4CAAmB","names":["UserRole","i0","Level2FeedbackComponent","constructor","level2FeedbackService","authService","router","ngOnInit","loadLevel2Feedback","getAllLevel2Feedback","subscribe","next","data","level2Feedback","error","console","addLevel2Feedback","feedback","feedback2id","projectExperience","advTechSkills","recommendation","selectedFeedbackIndex","selectedFeedbackId","editLevel2Feedback","clearForm","index","selectedFeedback","deleteLevel2Feedback","isHomePage","url","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\RizwanAhmed\\Downloads\\resource_management_app\\resource_management_app\\src\\app\\level2-feedback\\level2-feedback.component.ts","C:\\Users\\RizwanAhmed\\Downloads\\resource_management_app\\resource_management_app\\src\\app\\level2-feedback\\level2-feedback.component.html"],"sourcesContent":["// level2-feedback.component.ts\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Level2FeedbackService } from './level2-feedback.service';\r\nimport { AuthService } from '../login/auth.service';\r\nimport { UserRole } from '../enums/user-role.enum';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-level2-feedback',\r\n  templateUrl: './level2-feedback.component.html',\r\n  styleUrls: ['./level2-feedback.component.css']\r\n})\r\nexport class Level2FeedbackComponent implements OnInit {\r\n  userRoles = UserRole;\r\n  feedback2id: number | null = null;\r\n  projectExperience: string = '';\r\n  advTechSkills: string = '';\r\n  recommendation: string = '';\r\n\r\n  level2Feedback: any[] = [];\r\n  selectedFeedbackIndex: number | null = null;\r\n\r\n  constructor(private level2FeedbackService: Level2FeedbackService, public authService: AuthService,private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    this.loadLevel2Feedback();\r\n  }\r\n\r\n  loadLevel2Feedback() {\r\n    this.level2FeedbackService.getAllLevel2Feedback().subscribe({\r\n      next: (data) => {\r\n        this.level2Feedback = data;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading Level 2 Feedback', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  addLevel2Feedback() {\r\n    const feedback = {\r\n      feedback2id: this.feedback2id,\r\n      projectExperience: this.projectExperience,\r\n      advTechSkills: this.advTechSkills,\r\n      recommendation: this.recommendation\r\n      // Add other properties as needed\r\n    };\r\n\r\n    if (this.selectedFeedbackIndex !== null) {\r\n      const selectedFeedbackId = this.level2Feedback[this.selectedFeedbackIndex].feedback2id;\r\n      this.level2FeedbackService.editLevel2Feedback(selectedFeedbackId, feedback).subscribe({\r\n        next: () => {\r\n          this.selectedFeedbackIndex = null;\r\n          this.clearForm();\r\n          this.loadLevel2Feedback();\r\n        },\r\n        error: (error) => {\r\n          console.error('Error editing Level 2 Feedback', error);\r\n        }\r\n      });\r\n    } else {\r\n      this.level2FeedbackService.addLevel2Feedback(feedback).subscribe({\r\n        next: () => {\r\n          this.clearForm();\r\n          this.loadLevel2Feedback();\r\n        },\r\n        error: (error) => {\r\n          console.error('Error adding Level 2 Feedback', error);\r\n        }\r\n      });\r\n      \r\n        \r\n    }\r\n  }\r\n\r\n  editLevel2Feedback(index: number) {\r\n    this.selectedFeedbackIndex = index;\r\n    const selectedFeedback = this.level2Feedback[index];\r\n    this.feedback2id = selectedFeedback.feedback2id;\r\n    this.projectExperience = selectedFeedback.projectExperience;\r\n    this.advTechSkills = selectedFeedback.advTechSkills;\r\n    this.recommendation = selectedFeedback.recommendation;\r\n  }\r\n\r\n  deleteLevel2Feedback(index: number) {\r\n    const selectedFeedbackId = this.level2Feedback[index].feedback2id;\r\n    this.level2FeedbackService.deleteLevel2Feedback(selectedFeedbackId).subscribe({\r\n      next: () => {\r\n        this.loadLevel2Feedback();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error deleting Level 2 Feedback', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  clearForm() {\r\n    this.feedback2id = null;\r\n    this.projectExperience = '';\r\n    this.advTechSkills = '';\r\n    this.recommendation = '';\r\n  }  \r\n  isHomePage(): boolean {\r\n    return this.router.url === '/home';\r\n  }\r\n}\r\n","<!-- level2-feedback.component.html -->\r\n<div *ngIf=\"!isHomePage() && authService.getCurrentUser()?.role === userRoles.LEVEL2_PANEL\">\r\n    <h2>Level 2 Interview Feedback</h2>\r\n    <!-- Display a form to add/edit a new feedback -->\r\n    <form (ngSubmit)=\"addLevel2Feedback()\">\r\n      <label for=\"projectExperience\">Project Experience:</label>\r\n      <input type=\"text\" id=\"projectExperience\" name=\"projectExperience\" [(ngModel)]=\"projectExperience\" required>\r\n  \r\n      <label for=\"advTechSkills\">Advanced Technical Skills:</label>\r\n      <input type=\"text\" id=\"advTechSkills\" name=\"advTechSkills\" [(ngModel)]=\"advTechSkills\" required>\r\n  \r\n      <label for=\"recommendation\">Recommendation:</label>\r\n      <input type=\"text\" id=\"recommendation\" name=\"recommendation\" [(ngModel)]=\"recommendation\" required>\r\n  \r\n      <button class=\"btn btn-outline-success\"  type=\"submit\">{{ selectedFeedbackIndex !== null ? 'Edit Feedback' : 'Add Feedback' }}</button>\r\n\r\n    </form>\r\n    </div>\r\n  \r\n    <!-- Display the list of feedback with edit and delete buttons -->\r\n    <!-- <ul>\r\n      <li *ngFor=\"let feedback of level2Feedback; let i = index\">\r\n        {{ feedback.projectExperience }} - {{ feedback.advTechSkills }} - {{ feedback.recommendation }}\r\n        <div *ngIf=\"!isHomePage()\">\r\n          <button (click)=\"editLevel2Feedback(i)\">Edit</button>\r\n          <button (click)=\"deleteLevel2Feedback(i)\">Delete</button>\r\n        </div>\r\n      </li>\r\n    </ul> -->\r\n\r\n  \r\n    <div class=\"container-fluid\">\r\n      <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n          <div class=\"container-fluid\">\r\n            <a class=\"navbar-brand\" href=\"#\">Level 2 Feedback Details</a>\r\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n              <span class=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <!-- <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n              \r\n              <a *ngif=\"authService.getCurrentUser()?.role === userRoles.LEVEL2_PANEL\"><button class=\"btn btn-outline-success\" routerLink=\"/level2-feedback\" >Modify</button></a>\r\n            </div> -->\r\n          </div>\r\n      </nav>\r\n    \r\n    <table class=\"table table-hover\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Project Experience:</th>\r\n          <th scope=\"col\">Advanced Technical Skills:</th>\r\n          <th scope=\"col\">Recommendation:</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let feedback of level2Feedback; let i = index\">\r\n          <th>{{feedback.projectExperience}}</th>\r\n          <th>{{feedback.advTechSkills}}</th>\r\n          <th>{{feedback.recommendation}}</th>\r\n          <div *ngIf=\"!isHomePage()\">\r\n            <td>\r\n              <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"editLevel2Feedback(i)\">Edit</button>\r\n              <!-- <button type=\"button\" class=\"btn btn-otline-danger\" (click)=\"deleteLevel2Feedback(i)\">Delete</button> -->\r\n            </td>\r\n          </div>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n \r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}
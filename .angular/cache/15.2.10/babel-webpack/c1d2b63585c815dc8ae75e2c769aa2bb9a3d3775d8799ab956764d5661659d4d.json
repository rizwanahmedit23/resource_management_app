{"ast":null,"code":"import { UserRole } from '../enums/user-role.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./hr-discussion.service\";\nimport * as i2 from \"../login/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction HRDiscussionComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"HR Discussion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function HRDiscussionComponent_div_0_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addHRDiscussion());\n    });\n    i0.ɵɵelementStart(4, \"label\", 10);\n    i0.ɵɵtext(5, \"Communication Skills:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function HRDiscussionComponent_div_0_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.communicationSkills = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 12);\n    i0.ɵɵtext(8, \"Cultural Fit:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function HRDiscussionComponent_div_0_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.culturalFit = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"label\", 14);\n    i0.ɵɵtext(11, \"Final Decision:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function HRDiscussionComponent_div_0_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.finalDecision = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 16);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.communicationSkills);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.culturalFit);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.finalDecision);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedDiscussionIndex !== null ? \"Edit Discussion\" : \"Add Discussion\");\n  }\n}\nfunction HRDiscussionComponent_tr_18_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"td\")(2, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function HRDiscussionComponent_tr_18_div_7_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const i_r8 = i0.ɵɵnextContext().index;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.editHRDiscussion(i_r8));\n    });\n    i0.ɵɵtext(3, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction HRDiscussionComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, HRDiscussionComponent_tr_18_div_7_Template, 4, 0, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const discussion_r7 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(discussion_r7.communicationSkills);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(discussion_r7.culturalFit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(discussion_r7.finalDecision);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isHomePage());\n  }\n}\nexport class HRDiscussionComponent {\n  constructor(hrDiscussionService, authService, router) {\n    this.hrDiscussionService = hrDiscussionService;\n    this.authService = authService;\n    this.router = router;\n    this.userRoles = UserRole;\n    this.hrDiscussionId = null;\n    this.communicationSkills = '';\n    this.culturalFit = '';\n    this.finalDecision = '';\n    this.hrDiscussions = [];\n    this.selectedDiscussionIndex = null;\n  }\n  ngOnInit() {\n    this.loadHRDiscussions();\n  }\n  loadHRDiscussions() {\n    this.hrDiscussionService.getAllHRDiscussions().subscribe({\n      next: data => {\n        this.hrDiscussions = data;\n        console.log(\"loaded HrDiscussions\");\n      },\n      error: error => {\n        console.error('Error loading HR Discussions', error);\n      }\n    });\n  }\n  addHRDiscussion() {\n    const discussion = {\n      hrDiscussionId: this.hrDiscussionId,\n      communicationSkills: this.communicationSkills,\n      culturalFit: this.culturalFit,\n      finalDecision: this.finalDecision\n      // Add other properties as needed\n    };\n\n    if (this.selectedDiscussionIndex !== null) {\n      const selectedDiscussionId = this.hrDiscussions[this.selectedDiscussionIndex].hrDiscussionId;\n      this.hrDiscussionService.editHRDiscussion(selectedDiscussionId, discussion).subscribe({\n        next: () => {\n          this.selectedDiscussionIndex = null;\n          this.clearForm();\n          this.loadHRDiscussions();\n        },\n        error: error => {\n          console.error('Error editing HR Discussion', error);\n        }\n      });\n    } else {\n      this.hrDiscussionService.addHRDiscussion(discussion).subscribe({\n        next: () => {\n          this.clearForm();\n          this.loadHRDiscussions();\n        },\n        error: error => {\n          console.error('Error adding HR Discussion', error);\n        }\n      });\n    }\n  }\n  editHRDiscussion(index) {\n    this.selectedDiscussionIndex = index;\n    const selectedDiscussion = this.hrDiscussions[index];\n    this.hrDiscussionId = selectedDiscussion.hrDiscussionId;\n    this.communicationSkills = selectedDiscussion.communicationSkills;\n    this.culturalFit = selectedDiscussion.culturalFit;\n    this.finalDecision = selectedDiscussion.finalDecision;\n  }\n  deleteHRDiscussion(index) {\n    const selectedDiscussionId = this.hrDiscussions[index].hrDiscussionId;\n    this.hrDiscussionService.deleteHRDiscussion(selectedDiscussionId).subscribe({\n      next: () => {\n        this.loadHRDiscussions();\n      },\n      error: error => {\n        console.error('Error deleting HR Discussion', error);\n      }\n    });\n  }\n  clearForm() {\n    this.hrDiscussionId = null;\n    this.communicationSkills = '';\n    this.culturalFit = '';\n    this.finalDecision = '';\n  }\n  isHomePage() {\n    return this.router.url === '/home';\n  }\n  static #_ = this.ɵfac = function HRDiscussionComponent_Factory(t) {\n    return new (t || HRDiscussionComponent)(i0.ɵɵdirectiveInject(i1.HRDiscussionService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HRDiscussionComponent,\n    selectors: [[\"app-hr-discussion\"]],\n    decls: 19,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [1, \"container-fluid\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [1, \"table\", \"table-hover\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngSubmit\"], [\"for\", \"communicationSkills\"], [\"type\", \"text\", \"id\", \"communicationSkills\", \"name\", \"communicationSkills\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"culturalFit\"], [\"type\", \"text\", \"id\", \"culturalFit\", \"name\", \"culturalFit\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"finalDecision\"], [\"type\", \"text\", \"id\", \"finalDecision\", \"name\", \"finalDecision\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"]],\n    template: function HRDiscussionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, HRDiscussionComponent_div_0_Template, 15, 4, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"nav\", 2)(3, \"div\", 1)(4, \"a\", 3);\n        i0.ɵɵtext(5, \"HR Discussion Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵelement(7, \"span\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"table\", 6)(9, \"thead\")(10, \"tr\")(11, \"th\", 7);\n        i0.ɵɵtext(12, \"Communication Skills:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 7);\n        i0.ɵɵtext(14, \"Cultural Fit:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\", 7);\n        i0.ɵɵtext(16, \"Final Decision:\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"tbody\");\n        i0.ɵɵtemplate(18, HRDiscussionComponent_tr_18_Template, 8, 4, \"tr\", 8);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        i0.ɵɵproperty(\"ngIf\", !ctx.isHomePage() && ((tmp_0_0 = ctx.authService.getCurrentUser()) == null ? null : tmp_0_0.role) === ctx.userRoles.HR_MANAGER);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.hrDiscussions);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaHItZGlzY3Vzc2lvbi9oci1kaXNjdXNzaW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXNERyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGRpdiB7XHJcbiAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgbWFyZ2luOiA1MHB4IGF1dG87XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDYwdmg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlO1xyXG4gIH1cclxuIFxyXG4gXHJcbmgye1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcclxuICAgfVxyXG4gXHJcbiBcclxuZm9ybSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XHJcbiAgIFxyXG4gIH1cclxuIFxyXG4gIGxhYmVsIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gIH1cclxuIFxyXG4gIGlucHV0IHtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIH1cclxuIFxyXG4gIGJ1dHRvbiB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDIxNWRlZywgIzU0NmU3YSwgIzM3NDc0Zik7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbiBcclxuIFxyXG4gIHVsIHtcclxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgfVxyXG4gXHJcbiAgbGkge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICB9XHJcbiBcclxuIFxyXG4gXHJcbiAgKi8iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["UserRole","i0","HRDiscussionComponent","constructor","hrDiscussionService","authService","router","ngOnInit","loadHRDiscussions","getAllHRDiscussions","subscribe","next","data","hrDiscussions","console","log","error","addHRDiscussion","discussion","hrDiscussionId","communicationSkills","culturalFit","finalDecision","selectedDiscussionIndex","selectedDiscussionId","editHRDiscussion","clearForm","index","selectedDiscussion","deleteHRDiscussion","isHomePage","url","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\SiddhantSinghChouhan\\Desktop\\Recruitment_project\\Resource_Recruitment_management\\resource_management_app\\src\\app\\hr-discussion\\hr-discussion.component.ts","C:\\Users\\SiddhantSinghChouhan\\Desktop\\Recruitment_project\\Resource_Recruitment_management\\resource_management_app\\src\\app\\hr-discussion\\hr-discussion.component.html"],"sourcesContent":["// hr-discussion.component.ts\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { HRDiscussionService } from './hr-discussion.service';\r\nimport { AuthService } from '../login/auth.service';\r\nimport { UserRole } from '../enums/user-role.enum';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-hr-discussion',\r\n  templateUrl: './hr-discussion.component.html',\r\n  styleUrls: ['./hr-discussion.component.css']\r\n})\r\nexport class HRDiscussionComponent implements OnInit {\r\n  userRoles = UserRole;\r\n  hrDiscussionId: number | null = null;\r\n  communicationSkills: string = '';\r\n  culturalFit: string = '';\r\n  finalDecision: string = '';\r\n\r\n  hrDiscussions: any[] = [];\r\n  selectedDiscussionIndex: number | null = null;\r\n\r\n  constructor(private hrDiscussionService: HRDiscussionService,\r\n              public authService: AuthService,private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    this.loadHRDiscussions();\r\n  }\r\n\r\n  loadHRDiscussions() {\r\n    this.hrDiscussionService.getAllHRDiscussions().subscribe({\r\n      next: (data) => {\r\n        this.hrDiscussions = data;\r\n        console.log(\"loaded HrDiscussions\")\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading HR Discussions', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  addHRDiscussion() {\r\n    const discussion = {\r\n      hrDiscussionId: this.hrDiscussionId,\r\n      communicationSkills: this.communicationSkills,\r\n      culturalFit: this.culturalFit,\r\n      finalDecision: this.finalDecision\r\n      // Add other properties as needed\r\n    };\r\n\r\n    if (this.selectedDiscussionIndex !== null) {\r\n      const selectedDiscussionId = this.hrDiscussions[this.selectedDiscussionIndex].hrDiscussionId;\r\n      this.hrDiscussionService.editHRDiscussion(selectedDiscussionId, discussion).subscribe({\r\n        next: () => {\r\n          this.selectedDiscussionIndex = null;\r\n          this.clearForm();\r\n          this.loadHRDiscussions();\r\n        },\r\n        error: (error) => {\r\n          console.error('Error editing HR Discussion', error);\r\n        }\r\n      });\r\n    } else {\r\n      this.hrDiscussionService.addHRDiscussion(discussion).subscribe({\r\n        next: () => {\r\n          this.clearForm();\r\n          this.loadHRDiscussions();\r\n        },\r\n        error: (error) => {\r\n          console.error('Error adding HR Discussion', error);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  editHRDiscussion(index: number) {\r\n    this.selectedDiscussionIndex = index;\r\n    const selectedDiscussion = this.hrDiscussions[index];\r\n    this.hrDiscussionId = selectedDiscussion.hrDiscussionId;\r\n    this.communicationSkills = selectedDiscussion.communicationSkills;\r\n    this.culturalFit = selectedDiscussion.culturalFit;\r\n    this.finalDecision = selectedDiscussion.finalDecision;\r\n  }\r\n\r\n  deleteHRDiscussion(index: number) {\r\n    const selectedDiscussionId = this.hrDiscussions[index].hrDiscussionId;\r\n    this.hrDiscussionService.deleteHRDiscussion(selectedDiscussionId).subscribe({\r\n      next: () => {\r\n        this.loadHRDiscussions();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error deleting HR Discussion', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  clearForm() {\r\n    this.hrDiscussionId = null;\r\n    this.communicationSkills = '';\r\n    this.culturalFit = '';\r\n    this.finalDecision = '';\r\n  } \r\n  isHomePage(): boolean {\r\n    return this.router.url === '/home';\r\n  }\r\n}\r\n","<!-- hr-discussion.component.html -->\r\n<div  *ngIf=\"!isHomePage()   &&  authService.getCurrentUser()?.role === userRoles.HR_MANAGER\">\r\n  <h2>HR Discussion</h2>\r\n  <!-- Display a form to add/edit a new discussion -->\r\n  <form (ngSubmit)=\"addHRDiscussion()\">\r\n    <label for=\"communicationSkills\">Communication Skills:</label>\r\n    <input type=\"text\" id=\"communicationSkills\" name=\"communicationSkills\" [(ngModel)]=\"communicationSkills\" required>\r\n\r\n    <label for=\"culturalFit\">Cultural Fit:</label>\r\n    <input type=\"text\" id=\"culturalFit\" name=\"culturalFit\" [(ngModel)]=\"culturalFit\" required>\r\n\r\n    <label for=\"finalDecision\">Final Decision:</label>\r\n    <input type=\"text\" id=\"finalDecision\" name=\"finalDecision\" [(ngModel)]=\"finalDecision\" required>\r\n\r\n    <button class=\"btn btn-outline-success\"  type=\"submit\">{{ selectedDiscussionIndex !== null ? 'Edit Discussion' : 'Add Discussion' }}</button>\r\n\r\n  </form>\r\n  </div>\r\n  \r\n\r\n  <!-- Display the list of discussions with edit and delete buttons -->\r\n  <!-- <ul>\r\n    <li *ngFor=\"let discussion of hrDiscussions; let i = index\">\r\n      {{ discussion.communicationSkills }} - {{ discussion.culturalFit }} - {{ discussion.finalDecision }}\r\n      <div *ngIf=\"!isHomePage()\">\r\n        <button (click)=\"editHRDiscussion(i)\">Edit</button>\r\n        <button (click)=\"deleteHRDiscussion(i)\">Delete</button>\r\n      </div>\r\n      \r\n    </li>\r\n  </ul> -->\r\n\r\n\r\n  \r\n  <div class=\"container-fluid\">\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <div class=\"container-fluid\">\r\n          <a class=\"navbar-brand\" href=\"#\">HR Discussion Details</a>\r\n          <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span class=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <!-- <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n              \r\n            <a *ngif=\"authService.getCurrentUser()?.role === userRoles.HR_MANAGER\"><button class=\"btn btn-outline-success\" routerLink=\"/hr-discussion\" >Modify</button></a>\r\n          </div> -->\r\n        </div>\r\n    </nav>\r\n  \r\n  <table class=\"table table-hover\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Communication Skills:</th>\r\n        <th scope=\"col\">Cultural Fit:</th>\r\n        <th scope=\"col\">Final Decision:</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let discussion of hrDiscussions; let i = index\">\r\n        <th>{{discussion.communicationSkills}}</th>\r\n        <th>{{discussion.culturalFit}}</th>\r\n        <th>{{discussion.finalDecision}}</th>\r\n        <div *ngIf=\"!isHomePage()\">\r\n          <td>\r\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"editHRDiscussion(i)\">Edit</button>\r\n            <!-- <button type=\"button\" class=\"btn btn-otline-danger\" (click)=\"deleteHRDiscussion(i)\">Delete</button> -->\r\n          </td>\r\n        </div>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n \r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
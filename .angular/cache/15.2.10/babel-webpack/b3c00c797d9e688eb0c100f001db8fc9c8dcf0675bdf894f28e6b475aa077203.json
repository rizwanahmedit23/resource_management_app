{"ast":null,"code":"import { UserRole } from '../enums/user-role.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./level1-feedback.service\";\nimport * as i2 from \"../login/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction Level1FeedbackComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Level 1 Interview Feedback\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function Level1FeedbackComponent_div_0_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addLevel1Feedback());\n    });\n    i0.ɵɵelementStart(4, \"label\", 10);\n    i0.ɵɵtext(5, \"Improvement Areas:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function Level1FeedbackComponent_div_0_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.improvementAreas = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 12);\n    i0.ɵɵtext(8, \"Position Applied:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function Level1FeedbackComponent_div_0_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.positionApplied = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"label\", 14);\n    i0.ɵɵtext(11, \"Strengths:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function Level1FeedbackComponent_div_0_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.strengths = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 16);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.improvementAreas);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.positionApplied);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.strengths);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedFeedbackIndex !== null ? \"Edit Feedback\" : \"Add Feedback\");\n  }\n}\nfunction Level1FeedbackComponent_tr_18_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"td\")(2, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function Level1FeedbackComponent_tr_18_div_7_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const i_r8 = i0.ɵɵnextContext().index;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.editLevel1Feedback(i_r8));\n    });\n    i0.ɵɵtext(3, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction Level1FeedbackComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, Level1FeedbackComponent_tr_18_div_7_Template, 4, 0, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const feedback_r7 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(feedback_r7.improvementAreas);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(feedback_r7.positionApplied);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(feedback_r7.strengths);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isHomePage());\n  }\n}\nexport class Level1FeedbackComponent {\n  constructor(level1FeedbackService, authService, router) {\n    this.level1FeedbackService = level1FeedbackService;\n    this.authService = authService;\n    this.router = router;\n    this.userRoles = UserRole;\n    this.feedback1id = null;\n    this.candidateId = 0;\n    this.improvementAreas = '';\n    this.positionApplied = '';\n    this.strengths = '';\n    this.level1Feedback = [];\n    this.selectedFeedbackIndex = null;\n  }\n  ngOnInit() {\n    this.loadLevel1Feedback();\n  }\n  loadLevel1Feedback() {\n    this.level1FeedbackService.getAllLevel1Feedback().subscribe({\n      next: data => {\n        this.level1Feedback = data;\n      },\n      error: error => {\n        console.error('Error loading Level 1 Feedback', error);\n      }\n    });\n  }\n  addLevel1Feedback() {\n    const feedback = {\n      feedback1id: this.feedback1id,\n      candidateId: this.candidateId,\n      improvementAreas: this.improvementAreas,\n      positionApplied: this.positionApplied,\n      strengths: this.strengths\n      // Add other properties as needed\n    };\n\n    if (this.selectedFeedbackIndex !== null) {\n      const selectedFeedbackId = this.level1Feedback[this.selectedFeedbackIndex].feedback1id;\n      this.level1FeedbackService.editLevel1Feedback(selectedFeedbackId, feedback).subscribe({\n        next: () => {\n          this.selectedFeedbackIndex = null;\n          this.clearForm();\n          this.loadLevel1Feedback();\n        },\n        error: error => {\n          console.error('Error editing Level 1 Feedback', error);\n        }\n      });\n    } else {\n      this.level1FeedbackService.addLevel1Feedback(feedback).subscribe({\n        next: () => {\n          this.clearForm();\n          this.loadLevel1Feedback();\n        },\n        error: error => {\n          console.error('Error adding Level 1 Feedback', error);\n        }\n      });\n    }\n  }\n  editLevel1Feedback(index) {\n    this.selectedFeedbackIndex = index;\n    const selectedFeedback = this.level1Feedback[index];\n    this.feedback1id = selectedFeedback.feedback1id;\n    this.candidateId = selectedFeedback.candidateId;\n    this.improvementAreas = selectedFeedback.improvementAreas;\n    this.positionApplied = selectedFeedback.positionApplied;\n    this.strengths = selectedFeedback.strengths;\n  }\n  deleteLevel1Feedback(index) {\n    const selectedFeedbackId = this.level1Feedback[index].feedback1id;\n    this.level1FeedbackService.deleteLevel1Feedback(selectedFeedbackId).subscribe({\n      next: () => {\n        this.loadLevel1Feedback();\n      },\n      error: error => {\n        console.error('Error deleting Level 1 Feedback', error);\n      }\n    });\n  }\n  clearForm() {\n    this.feedback1id = null;\n    this.candidateId = 0; // Set an appropriate default value\n    this.improvementAreas = '';\n    this.positionApplied = '';\n    this.strengths = '';\n  }\n  isHomePage() {\n    return this.router.url === '/home';\n  }\n  static #_ = this.ɵfac = function Level1FeedbackComponent_Factory(t) {\n    return new (t || Level1FeedbackComponent)(i0.ɵɵdirectiveInject(i1.Level1FeedbackService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Level1FeedbackComponent,\n    selectors: [[\"app-level1-feedback\"]],\n    decls: 19,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [1, \"container-fluid\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [1, \"table\", \"table-hover\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngSubmit\"], [\"for\", \"improvementAreas\"], [\"type\", \"text\", \"id\", \"improvementAreas\", \"name\", \"improvementAreas\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"positionApplied\"], [\"type\", \"text\", \"id\", \"positionApplied\", \"name\", \"positionApplied\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"strengths\"], [\"type\", \"text\", \"id\", \"strengths\", \"name\", \"strengths\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"]],\n    template: function Level1FeedbackComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, Level1FeedbackComponent_div_0_Template, 15, 4, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"nav\", 2)(3, \"div\", 1)(4, \"a\", 3);\n        i0.ɵɵtext(5, \"Level 1 Feedback\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵelement(7, \"span\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"table\", 6)(9, \"thead\")(10, \"tr\")(11, \"th\", 7);\n        i0.ɵɵtext(12, \"Improvement Areas:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 7);\n        i0.ɵɵtext(14, \"Position Applied:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\", 7);\n        i0.ɵɵtext(16, \"Strengths:\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"tbody\");\n        i0.ɵɵtemplate(18, Level1FeedbackComponent_tr_18_Template, 8, 4, \"tr\", 8);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        i0.ɵɵproperty(\"ngIf\", !ctx.isHomePage() && ((tmp_0_0 = ctx.authService.getCurrentUser()) == null ? null : tmp_0_0.role) === ctx.userRoles.LEVEL1_PANEL);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.level1Feedback);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbGV2ZWwxLWZlZWRiYWNrL2xldmVsMS1mZWVkYmFjay5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQXdESyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGRpdiB7XHJcbiAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgbWFyZ2luOiA1MHB4IGF1dG87XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDU1dmg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlO1xyXG4gIH1cclxuIFxyXG4gXHJcbmgye1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcclxuICAgfVxyXG4gXHJcbiBcclxuZm9ybSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XHJcbiAgIFxyXG4gIH1cclxuIFxyXG4gIGxhYmVsIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gIH1cclxuIFxyXG4gIGlucHV0IHtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIH1cclxuIFxyXG4gIGJ1dHRvbiB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDIxNWRlZywgIzU0NmU3YSwgIzM3NDc0Zik7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbiBcclxuIFxyXG4gIHVsIHtcclxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgfVxyXG4gXHJcbiAgbGkge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICB9XHJcbiBcclxuICBidXR0b24ge1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9ICovIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["UserRole","i0","Level1FeedbackComponent","constructor","level1FeedbackService","authService","router","ngOnInit","loadLevel1Feedback","getAllLevel1Feedback","subscribe","next","data","level1Feedback","error","console","addLevel1Feedback","feedback","feedback1id","candidateId","improvementAreas","positionApplied","strengths","selectedFeedbackIndex","selectedFeedbackId","editLevel1Feedback","clearForm","index","selectedFeedback","deleteLevel1Feedback","isHomePage","url","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\RizwanAhmed\\Downloads\\resource_management_app\\resource_management_app\\src\\app\\level1-feedback\\level1-feedback.component.ts","C:\\Users\\RizwanAhmed\\Downloads\\resource_management_app\\resource_management_app\\src\\app\\level1-feedback\\level1-feedback.component.html"],"sourcesContent":["// level1-feedback.component.ts\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Level1FeedbackService } from './level1-feedback.service';\r\nimport { AuthService } from '../login/auth.service';\r\nimport { UserRole } from '../enums/user-role.enum';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-level1-feedback',\r\n  templateUrl: './level1-feedback.component.html',\r\n  styleUrls: ['./level1-feedback.component.css']\r\n})\r\nexport class Level1FeedbackComponent implements OnInit {\r\n\r\n  userRoles = UserRole;\r\n  feedback1id: number | null = null;\r\n  candidateId: number = 0;\r\n  improvementAreas: string = '';\r\n  positionApplied: string = '';\r\n  strengths: string = '';\r\n\r\n  level1Feedback: any[] = [];\r\n  selectedFeedbackIndex: number | null = null;\r\n\r\n  constructor(private level1FeedbackService: Level1FeedbackService, public authService: AuthService,private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    this.loadLevel1Feedback();\r\n  }\r\n\r\n  loadLevel1Feedback() {\r\n    this.level1FeedbackService.getAllLevel1Feedback().subscribe({\r\n      next: (data) => {\r\n        this.level1Feedback = data;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading Level 1 Feedback', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  addLevel1Feedback() {\r\n    const feedback = {\r\n      feedback1id: this.feedback1id,\r\n      candidateId: this.candidateId,\r\n      improvementAreas: this.improvementAreas,\r\n      positionApplied: this.positionApplied,\r\n      strengths: this.strengths\r\n      // Add other properties as needed\r\n    };\r\n\r\n    if (this.selectedFeedbackIndex !== null) {\r\n      const selectedFeedbackId = this.level1Feedback[this.selectedFeedbackIndex].feedback1id;\r\n      this.level1FeedbackService.editLevel1Feedback(selectedFeedbackId, feedback).subscribe({\r\n        next: () => {\r\n          this.selectedFeedbackIndex = null;\r\n          this.clearForm();\r\n          this.loadLevel1Feedback();\r\n        },\r\n        error: (error) => {\r\n          console.error('Error editing Level 1 Feedback', error);\r\n        }\r\n      });\r\n    } else {\r\n      this.level1FeedbackService.addLevel1Feedback(feedback).subscribe({\r\n        next: () => {\r\n          this.clearForm();\r\n          this.loadLevel1Feedback();\r\n        },\r\n        error: (error) => {\r\n          console.error('Error adding Level 1 Feedback', error);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  editLevel1Feedback(index: number) {\r\n    this.selectedFeedbackIndex = index;\r\n    const selectedFeedback = this.level1Feedback[index];\r\n    this.feedback1id = selectedFeedback.feedback1id;\r\n    this.candidateId = selectedFeedback.candidateId;\r\n    this.improvementAreas = selectedFeedback.improvementAreas;\r\n    this.positionApplied = selectedFeedback.positionApplied;\r\n    this.strengths = selectedFeedback.strengths;\r\n  }\r\n\r\n  deleteLevel1Feedback(index: number) {\r\n    const selectedFeedbackId = this.level1Feedback[index].feedback1id;\r\n    this.level1FeedbackService.deleteLevel1Feedback(selectedFeedbackId).subscribe({\r\n      next:() => {\r\n        this.loadLevel1Feedback();\r\n      },\r\n      error:(error) => {\r\n        console.error('Error deleting Level 1 Feedback', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  clearForm() {\r\n    this.feedback1id = null;\r\n    this.candidateId = 0; // Set an appropriate default value\r\n    this.improvementAreas = '';\r\n    this.positionApplied = '';\r\n    this.strengths = '';\r\n  }  \r\n  isHomePage(): boolean {\r\n    return this.router.url === '/home';\r\n  }\r\n}\r\n","<!-- level1-feedback.component.html --> \r\n<div *ngIf=\"!isHomePage() && authService.getCurrentUser()?.role === userRoles.LEVEL1_PANEL\">\r\n    <h2>Level 1 Interview Feedback</h2>\r\n    <!-- Display a form to add/edit a new feedback -->\r\n    <form (ngSubmit)=\"addLevel1Feedback()\">\r\n      <label for=\"improvementAreas\">Improvement Areas:</label>\r\n      <input type=\"text\" id=\"improvementAreas\" name=\"improvementAreas\" [(ngModel)]=\"improvementAreas\" required>\r\n  \r\n      <label for=\"positionApplied\">Position Applied:</label>\r\n      <input type=\"text\" id=\"positionApplied\" name=\"positionApplied\" [(ngModel)]=\"positionApplied\" required>\r\n  \r\n      <label for=\"strengths\">Strengths:</label>\r\n      <input type=\"text\" id=\"strengths\" name=\"strengths\" [(ngModel)]=\"strengths\" required>\r\n  \r\n      <button class=\"btn btn-outline-success\"  type=\"submit\">{{ selectedFeedbackIndex !== null ? 'Edit Feedback' : 'Add Feedback' }}</button>\r\n    </form>\r\n  </div>\r\n    <!-- Display the list of feedback with edit and delete buttons -->\r\n    <!-- <ul>\r\n      <li *ngFor=\"let feedback of level1Feedback; let i = index\">\r\n        {{ feedback.improvementAreas }} - {{ feedback.positionApplied }} - {{ feedback.strengths }}\r\n        <div *ngIf=\"!isHomePage()\">\r\n          <button (click)=\"editLevel1Feedback(i)\">Edit</button>\r\n          <button (click)=\"deleteLevel1Feedback(i)\">Delete</button>\r\n        </div>\r\n        \r\n      </li>\r\n    </ul> -->\r\n\r\n  \r\n    <div class=\"container-fluid\">\r\n      <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n          <div class=\"container-fluid\">\r\n            <a class=\"navbar-brand\" href=\"#\">Level 1 Feedback</a>\r\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n              <span class=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <!-- <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n              \r\n              <a *ngif=\"authService.getCurrentUser()?.role === userRoles.LEVEL1_PANEL\"><button class=\"btn btn-outline-success\" routerLink=\"/level1-feedback\" >Modify</button></a>\r\n            </div> -->\r\n          </div>\r\n      </nav>\r\n    \r\n    <table class=\"table table-hover\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Improvement Areas:</th>\r\n          <th scope=\"col\">Position Applied:</th>\r\n          <th scope=\"col\">Strengths:</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let feedback of level1Feedback; let i = index\">\r\n          <th>{{feedback.improvementAreas}}</th>\r\n          <th>{{feedback.positionApplied}}</th>\r\n          <th>{{feedback.strengths}}</th>\r\n          <div *ngIf=\"!isHomePage()\">\r\n            <td>\r\n              <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"editLevel1Feedback(i)\">Edit</button>\r\n              <!-- <button type=\"button\" class=\"btn btn-otline-danger\" (click)=\"deleteLevel1Feedback(i)\">Delete</button> -->\r\n            </td>\r\n          </div>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n \r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}